# 常见问题

1. Kafka 如何做到高吞吐、低延迟的呢？

   这里提下 Kafka 写数据的大致方式：先写操作系统的页缓存（Page Cache）,然后由操作系统自行决定何时刷到磁盘。

   因此 Kafka 达到高吞吐、低延迟的原因主要有以下 4 点：

   * 页缓存是在内存中分配的，所以消息写入的速度很快。
   * Kafka 不必和底层的文件系统进行交互，所有繁琐的 I/O 操作都由操作系统来处理。
   * Kafka 采用追加写的方式，避免了磁盘随机写操作。
   * 使用以 sendfile 为代表的零拷贝技术提高了读取数据的效率。

   PS: 使用页缓存而非堆内存还有一个好处，就是当 Kafka broker 的进程崩溃时，堆内存的数据会丢失，但是页缓存的数据依然存在，重启 Kafka broker 后可以继续提供服务。

2. 